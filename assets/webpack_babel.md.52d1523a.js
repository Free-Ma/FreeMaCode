import{_ as s,c as a,o as n,a as l}from"./app.0031a269.js";const A=JSON.parse('{"title":"babel","description":"","frontmatter":{},"headers":[{"level":2,"title":"babel","slug":"babel"},{"level":3,"title":"babel \u7684\u9884\u8BBE preset","slug":"babel-\u7684\u9884\u8BBE-preset"},{"level":3,"title":"babel-loader","slug":"babel-loader"}],"relativePath":"webpack/babel.md"}'),p={name:"webpack/babel.md"},o=l(`<h2 id="babel" tabindex="-1">babel <a class="header-anchor" href="#babel" aria-hidden="true">#</a></h2><p><code>babel</code> \u662F\u4E00\u4E2A\u5DE5\u5177\u94FE\uFF0C\u4E3B\u8981\u7528\u4E8E\u5C31\u6D4F\u89C8\u5668\u6216\u8005\u73AF\u5883\u4E2D\u5C06 <code>ECMAScript 2015+</code> \u4EE3\u7801\u8F6C\u6362\u4E3A\u5411\u540E\u517C\u5BB9\u7248\u672C\u7684 <code>Javascript</code></p><p>\u5305\u62EC\uFF1A\u8BED\u6CD5\u8F6C\u6362\u3001\u6E90\u4EE3\u7801\u8F6C\u6362\u7B49</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(n </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> n </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><ul><li><code>babel</code> \u672C\u8EAB\u53EF\u4EE5\u4F5C\u4E3A\u4E00\u4E2A\u72EC\u7ACB\u7684\u5DE5\u5177\uFF08\u548C postcss \u4E00\u6837\uFF09</li><li>\u5982\u679C\u5E0C\u671B\u5728\u547D\u4EE4\u884C\u5C1D\u8BD5\u4F7F\u7528 <code>babel</code>, \u9700\u8981\u5B89\u88C5\u5982\u4E0B\u5E93\uFF1A <ul><li><code>@babel/core</code>: <code>babel</code> \u7684\u6838\u5FC3\u4EE3\u7801, \u5FC5\u987B\u5B89\u88C5</li><li><code>@babel/cli</code>: \u53EF\u4EE5\u8BA9\u6211\u4EEC\u5728\u547D\u4EE4\u884C\u4F7F\u7528 <code>babel</code></li></ul></li></ul><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">npm i @babel/cli @babel/core -D</span></span>
<span class="line"></span></code></pre></div><ul><li>\u4F7F\u7528 <code>babel</code> \u6765\u5904\u7406\u6E90\u4EE3\u7801: <ul><li>src: \u662F\u6E90\u6587\u4EF6\u7684\u76EE\u5F55</li><li><code>--out-dir</code>: \u6307\u5B9A\u8981\u8F93\u51FA\u7684\u6587\u4EF6\u5939 <code>dist</code></li></ul></li></ul><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">npx babel src --out-dir dist</span></span>
<span class="line"></span></code></pre></div><ul><li>\u6BD4\u5982\u9700\u8981\u8F6C\u6362\u7BAD\u5934\u51FD\u6570, \u90A3\u4E48\u5C31\u53EF\u4EE5\u4F7F\u7528\u7BAD\u5934\u51FD\u6570\u8F6C\u6362\u76F8\u5173\u7684\u63D2\u4EF6:</li></ul><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">npm i @babel/plugin-transform-arrow-functions -D</span></span>
<span class="line"><span style="color:#A6ACCD;">npx babel src --out-dir dist --plugins=@babel/plugin-transform-arrow-functions</span></span>
<span class="line"></span></code></pre></div><ul><li>\u5C06 <code>const</code> \u8F6C\u6362\u4E3A <code>var</code></li></ul><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">npm install @babel/plugin-transform-block-scoping -D</span></span>
<span class="line"><span style="color:#A6ACCD;">npx babel src --out-dir dist --plugins=@babel/plugin-transform-block-scoping,@babel/plugin-transform-arrow-functions</span></span>
<span class="line"></span></code></pre></div><h3 id="babel-\u7684\u9884\u8BBE-preset" tabindex="-1">babel \u7684\u9884\u8BBE preset <a class="header-anchor" href="#babel-\u7684\u9884\u8BBE-preset" aria-hidden="true">#</a></h3><p>\u5982\u679C\u8981\u8F6C\u6362\u7684\u5185\u5BB9\u8FC7\u591A\uFF0C\u4E00\u4E2A\u4E2A\u8BBE\u7F6E\u662F\u6BD4\u8F83\u9EBB\u70E6\u7684, \u53EF\u4EE5\u4F7F\u7528 <code>preset</code></p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">npm i @babel/preset-env -D</span></span>
<span class="line"></span></code></pre></div><ul><li><code>babel</code> \u53EF\u4EE5\u770B\u4F5C\u662F\u4E00\u4E2A\u7F16\u8BD1\u5668, \u4F5C\u7528\u662F\u5C06\u6211\u4EEC\u7684\u6E90\u4EE3\u7801\uFF0C\u6293\u6362\u6210\u6D4F\u89C8\u5668\u53EF\u4EE5\u76F4\u63A5\u8BC6\u522B\u7684\u53E6\u5916\u4E00\u6BB5\u6E90\u4EE3\u7801</li></ul><p><strong>babel \u4E5F\u62E5\u6709\u7F16\u8BD1\u5668\u7684\u5DE5\u4F5C\u6D41\u7A0B</strong></p><ul><li>\u89E3\u6790\u9636\u6BB5</li><li>\u8F6C\u6362\u9636\u6BB5</li><li>\u751F\u6210\u9636\u6BB5</li></ul><p><a href="https://github.com/jamiebuilds/the-super-tiny-compiler" target="_blank" rel="noopener noreferrer">\u4E00\u4E2A\u4F7F\u7528js\u5B9E\u73B0\u7684\u7F16\u8BD1\u5668</a></p><h3 id="babel-loader" tabindex="-1">babel-loader <a class="header-anchor" href="#babel-loader" aria-hidden="true">#</a></h3><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">npm i babel-loader -D</span></span>
<span class="line"></span></code></pre></div><p>\u5728 <code>webpack.config.js</code> \u4E2D\u914D\u7F6E</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">// plugins: [</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">//   &#39;@babel/plugin-transform-arrow-functions&#39;,</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">//   &#39;@babel/plugin-transform-block-scoping&#39;,</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">// ]</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">presets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@babel/preset-env</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">            ]</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ul><li>\u5728 <code>babel.config.js</code> \u4E2D\u914D\u7F6E:</li></ul><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// babel.config.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">presets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@babel/preset-env</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// webpack.config.js</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,25),e=[o];function c(r,t,D,i,y,F){return n(),a("div",null,e)}var d=s(p,[["render",c]]);export{A as __pageData,d as default};
